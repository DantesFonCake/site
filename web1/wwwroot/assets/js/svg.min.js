function map_svg(t, e) { for (id in e) { let o = t.getElementById(id); $(".map-button#" + id).click(function () { o.classList.toggle("hilighted"), this.classList.toggle("active") }); let a = o.querySelector("title"); null == a && (a = document.createElementNS("http://www.w3.org/2000/svg", "title"), o.prepend(a)), a.textContent = e[id].title, o.classList.add("map-area"), o.dataset.postid = e[id].postid, o.dataset.bsTarget = "#modal", o.dataset.bsToggle = "modal" } } $(document).ready(function () { let t = document.querySelector("#map-container svg"), e = document.getElementById("temporary"), o = JSON.parse(e.text); e.remove(), map_svg(t, o), $(document).on("click", "#map-dropdown .dropdown-menu", function (t) { t.stopPropagation() }) });